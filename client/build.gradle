sonarqube {
  properties {
    property "sonar.sources", "src/app"
    property "sonar.test", "src/app"
    property "sonar.test.inclusions", "**/*.spec.ts"
    property "sonar.typescript.lcov.reportPaths", "coverage/lcov.info"
    property "sonar.ts.tslint.configPath", "tslint.json"
  }
}

task assemble(type: Exec) {

  executable "bash"
  args "-c", "npm install -g @angular/cli"

  executable "bash"
  args "-c", "npm install -g karma"

  executable "bash"
  args "-c", "npm install && yarn install"
}

task check(type: Exec) {

  executable "bash"
  args "-c", "ng test --watch=false --browsers=ChromeHeadlessNoSandbox"
}


